import{h as i,e as l,j as s}from"./index-CTLQgVu5.js";import{u as c,a as u,L as p,P as d}from"./useInvalidatePolls-Dae-U92l.js";import{M as m}from"./card-Ba72JlLp.js";function x(){const{user:e}=i(),{data:o,error:n,isPending:a}=c({queryKey:["polls",e==null?void 0:e.id],queryFn:async()=>(await(await fetch("/api/poll")).json()).map(t=>(t.options=t.options.map(r=>!e||!e.id?r:r.allVotes.includes(e.id)?{...r,selected:!0}:r),t))});return{polls:o,error:n,isPending:a}}const F=l("/")({component:j});function j(){const{polls:e,isPending:o,error:n}=x();return u(),s.jsx(m,{children:o?s.jsx(p,{}):n?s.jsxs("p",{children:["Error: ",n.message]}):e&&e.length>0?s.jsx(d,{polls:e}):s.jsx("p",{className:"text-center text-xl",children:"No Polls Found."})})}export{F as Route};
